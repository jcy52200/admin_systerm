(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b8401ca"],{"488f":function(e,t,a){"use strict";a.r(t);a("14d9");var s=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dashboard-container"},[t("div",{staticClass:"app-container"},[t("page-tools",{attrs:{"show-before":!0},scopedSlots:e._u([{key:"before",fn:function(){return[e._v("当前审批中 0 本月审批通过 1 本月审批驳回 0")]},proxy:!0}])},[[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$router.push("/approvals/securitySetting")}}},[e._v("流程设置")])]],2),t("el-card",{staticClass:"hr-block"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"default-sort":{prop:"date",order:"descending"}}},[t("el-table-column",{attrs:{type:"selection",width:"30"}}),t("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),t("el-table-column",{attrs:{prop:"processName",label:"审批类型",sortable:""}}),t("el-table-column",{attrs:{prop:"username",label:"申请人",sortable:""}}),t("el-table-column",{attrs:{prop:"procCurrNodeUserName",label:"当前审批人",sortable:""}}),t("el-table-column",{attrs:{label:"审批发起时间",sortable:""}},[[t("span",[e._v(e._s((new Date).toLocaleString()))])]],2),t("el-table-column",{attrs:{prop:"process_state",label:"审批状态",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return["0"===a.row.processState?t("span",{staticClass:"rovalsState"},[t("em",{staticClass:"sub"}),e._v("已提交 ")]):e._e(),"1"===a.row.processState?t("span",{staticClass:"rovalsState"},[t("em",{staticClass:"stay"}),e._v("审批中 ")]):e._e(),"2"===a.row.processState?t("span",{staticClass:"rovalsState"},[t("em",{staticClass:"adopt"}),e._v("审批通过 ")]):e._e(),"3"===a.row.processState?t("span",{staticClass:"rovalsState"},[t("em",{staticClass:"reject"}),e._v("审批不通过 ")]):e._e(),"4"===a.row.processState?t("span",{staticClass:"rovalsState"},[t("em",{staticClass:"revoke"}),e._v("撤销 ")]):e._e()]}}])})],1),t("el-row",{staticStyle:{height:"60px"},attrs:{type:"flex",align:"middle",justify:"center"}},[t("el-pagination",{attrs:{total:e.page.total,"page-size":e.page.pagesize,layout:"prev, pager, next"},on:{"current-change":e.changePage}})],1)],1)],1)])},r=[],o=a("c7eb"),l=a("5530"),n=a("1da1"),p=(a("99af"),a("b775"));function c(e){return Object(p["a"])({url:"/user/process/instance/".concat(e.page,"/").concat(e.pageSize),method:"put",data:e})}var i=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"page-tools"},[t("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-col",[e.showBefore?t("div",{staticClass:"before"},[t("i",{staticClass:"el-icon-info"}),e._t("before")],2):e._e()]),t("el-col",[t("el-row",{attrs:{type:"flex",justify:"end"}},[e._t("after")],2)],1)],1)],1)},u=[],d={props:{showBefore:{type:Boolean,default:!1}}},b=d,v=(a("836e"),a("2877")),h=Object(v["a"])(b,i,u,!1,null,null,null),f=h.exports,g={name:"SocialTableIndex",components:{pageTools:f},data:function(){return{list:[],loading:!1,page:{page:1,total:0,pageSize:10}}},created:function(){this.getApprovalList()},methods:{getApprovalList:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var a,s,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,c(Object(l["a"])({year:2018},e.page));case 3:a=t.sent,s=a.rows,r=a.total,e.page.total=r,e.list=s,e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},toDetail:function(e){var t=e.processName;switch(t){case"工资":this.$router.push({path:"/approvals/salaryApproval/"+e.processId});break;case"入职":this.$router.push({path:"/approvals/enterApproval/"+e.processId});break;case"请假":this.$router.push({path:"/approvals/leaveApproval/"+e.processId});break;case"离职":this.$router.push({path:"/approvals/quitApproval/"+e.processId});break;case"加班":this.$router.push({path:"/approvals/overtimeApproval/"+e.processId})}},changePage:function(e){this.page.newPage=e,this.getApprovalList()}}},w=g,m=Object(v["a"])(w,s,r,!1,null,null,null);t["default"]=m.exports},"577c":function(e,t,a){},"836e":function(e,t,a){"use strict";a("577c")}}]);